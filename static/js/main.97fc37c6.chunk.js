(this["webpackJsonpcompanies-tables"]=this["webpackJsonpcompanies-tables"]||[]).push([[0],{26:function(e,t,n){e.exports=n(50)},50:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(22),c=n.n(r),o=n(4),i=n(1),u=n(6),m=n.n(u),s=n(2),g=n(10);function E(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: space-around;\n    background-color: lightblue;\n    padding: 10px;\n"]);return E=function(){return e},e}var f=s.a.div(E()),d=function(e){var t=e.changeOffset,n=e.offset,a=e.itemsNumber;return(l.a.createElement(f,null,l.a.createElement("button",{onClick:function(){return t(0)},disabled:0===n},"First page"),l.a.createElement("button",{onClick:function(){return t(n-20)},disabled:n-20<0},"Prev"),l.a.createElement("div",null,"Page:",parseInt(n/20+1.5),"of:",Math.ceil(a/20),l.a.createElement("br",null),"Results: ",a),l.a.createElement("button",{onClick:function(){return t(n+20)},disabled:n>=a-20},"Next"),l.a.createElement("button",{onClick:function(){return t(a-20)},disabled:n>=a-20},"Last")))},p=function(){return l.a.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"16px",height:"16px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},space:"preserve"},l.a.createElement("circle",{style:{fill:"#983262"},cx:"256",cy:"256",r:"256"}),l.a.createElement("path",{style:{fill:"#662E57"},d:"M512,256c0-2.372-0.038-4.734-0.102-7.09L373.322,110.333l-14.994,191.994L166.333,110.333L107,147\r l40.532,40.532L107,199.067l41.522,41.522L107,251.133l38.127,38.127L107,303.2l36.119,36.118L107,355.267l34.647,34.647\r L107,407.333l99.954,99.954C222.83,510.368,239.223,512,256,512C397.385,512,512,397.385,512,256z"}),l.a.createElement("rect",{x:"107",y:"370.67",style:{fill:"#FFDC00"},width:"266",height:"36.667"}),l.a.createElement("rect",{x:"170.33",y:"370.67",style:{fill:"#FFC000"},width:"202.67",height:"36.667"}),l.a.createElement("rect",{x:"107",y:"318.6",style:{fill:"#FFDC00"},width:"184",height:"36.667"}),l.a.createElement("rect",{x:"170.33",y:"318.6",style:{fill:"#FFC000"},width:"120.67",height:"36.667"}),l.a.createElement("rect",{x:"107",y:"266.53",style:{fill:"#FFDC00"},width:"155",height:"36.667"}),l.a.createElement("rect",{x:"170.33",y:"266.53",style:{fill:"#FFC000"},width:"91.67",height:"36.667"}),l.a.createElement("g",null,l.a.createElement("rect",{x:"107",y:"214.47",style:{fill:"#FFDC00"},width:"126.67",height:"36.667"}),l.a.createElement("rect",{x:"107",y:"162.4",style:{fill:"#FFDC00"},width:"94.67",height:"36.667"})),l.a.createElement("g",null,l.a.createElement("rect",{x:"170.33",y:"214.47",style:{fill:"#FFC000"},width:"63.33",height:"36.667"}),l.a.createElement("rect",{x:"170.33",y:"162.4",style:{fill:"#FFC000"},width:"31.33",height:"36.667"})),l.a.createElement("rect",{x:"107",y:"110.33",style:{fill:"#FFDC00"},width:"59.33",height:"36.667"}),l.a.createElement("polygon",{style:{fill:"#FFFFFF"},points:"340,110.333 340,291.48 303.522,255.002 279.959,278.565 356.661,355.267 433.363,278.564 \r 409.8,255.002 373.322,291.48 373.322,110.333 "}),l.a.createElement("polygon",{style:{fill:"#E0E0E0"},points:"356.661,355.267 433.363,278.564 409.8,255.002 373.322,291.48 373.322,110.333 \r 356.661,110.333 "}),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null))},h=function(){return l.a.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"16px",height:"16px",viewBox:"0 0 512 512",style:{"enable-background":"new 0 0 512 512"},space:"preserve"},l.a.createElement("circle",{style:{fill:"#E9336D"},cx:"256",cy:"256",r:"256"}),l.a.createElement("path",{style:{fill:"#762957"},d:"M512,256c0-13.55-1.062-26.851-3.09-39.832L402.371,109.629c-48.156-48.156-126.233-48.156-174.389,0\r c-40.121,40.121-46.808,101.006-20.077,148.058L102.924,362.668c-9.112,9.112-9.112,23.886,0,32.998L216.168,508.91\r C229.149,510.938,242.45,512,256,512C397.385,512,512,397.385,512,256z"}),l.a.createElement("path",{style:{fill:"#FFA700"},d:"M116.334,409.076l-13.41-13.41c-9.112-9.112-9.112-23.886,0-32.998l110.549-110.549l46.408,46.408\r L149.332,409.076C140.22,418.188,125.446,418.188,116.334,409.076z"}),l.a.createElement("path",{style:{fill:"#FF6900"},d:"M259.882,298.533L149.333,409.082c-9.108,9.108-23.886,9.108-33.001-0.007l-6.703-6.703\r l127.046-127.046L259.882,298.533z"}),l.a.createElement("circle",{style:{fill:"#FFFFFF"},cx:"315.18",cy:"196.82",r:"123.31"}),l.a.createElement("path",{style:{fill:"#FFF4AA"},d:"M402.371,284.016c-40.121,40.121-101.01,46.818-148.054,20.082\r c-9.426-5.353-18.3-12.049-26.333-20.082l174.387-174.387C450.525,157.783,450.525,235.862,402.371,284.016z"}),l.a.createElement("circle",{style:{fill:"#00D4D1"},cx:"315.18",cy:"196.82",r:"91.42"}),l.a.createElement("path",{style:{fill:"#009CA0"},d:"M379.821,261.466c-35.702,35.702-93.586,35.702-129.287,0l129.28-129.28\r C415.516,167.887,415.523,225.764,379.821,261.466z"}),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null))},v=function(){return l.a.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"16px",height:"16px",viewBox:"0 0 512 512",style:{"enable-background":"new 0 0 512 512"},space:"preserve"},l.a.createElement("path",{style:{fill:"#FF7043"},d:"M507.586,208.51C485.318,89.819,381.156,0,256,0C114.615,0,0,114.616,0,256\r c0,125.156,89.819,229.318,208.511,251.585L507.586,208.51z"}),l.a.createElement("path",{style:{fill:"#FF5722"},d:"M512,256c0-16.229-1.527-32.099-4.414-47.49l-54.822-54.821L256,256L153.689,452.764l54.822,54.821\r C223.901,510.473,239.771,512,256,512C397.385,512,512,397.384,512,256z"}),l.a.createElement("polygon",{style:{fill:"#37474F"},points:"452.764,153.689 350.442,256 233.739,278.261 256,161.558 358.311,59.236 405.537,106.463 \r "}),l.a.createElement("polygon",{style:{fill:"#263238"},points:"452.764,358.311 358.311,452.764 256,350.442 222.609,256 350.442,256 "}),l.a.createElement("polygon",{style:{fill:"#37474F"},points:"208.779,233.739 161.558,256 59.236,358.311 153.689,452.764 256,350.442 256,256 "}),l.a.createElement("polygon",{style:{fill:"#455A64"},points:"256,161.558 256,256 161.558,256 59.236,153.689 106.463,106.463 153.689,59.236 "}),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null))};function y(){var e=Object(i.a)(["\n    display: flex;\n    align-items: center;\n    border-radius: 10px;\n    border: solid darkgoldenrod 1px;\n    background-color: orange;\n    padding: 2px 5px;\n    color: white;\n    cursor: pointer;\n"]);return y=function(){return e},e}function x(){var e=Object(i.a)(["\n    display: flex;\n    width: 30%;\n"]);return x=function(){return e},e}function b(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: space-around;\n    background-color: lightblue;\n    padding: 10px;\n"]);return b=function(){return e},e}var w=s.a.div(b()),C=s.a.div(x()),F=s.a.div(y()),j={name:"Name",city:"City",totalIncome:"Total Income",averageIncome:"Average Income",lastMonthIncome:"Last Month Income",id:"Id"},k={ASC:"Ascending",DESC:"Descending"},O=function(e){var t=e.clear,n=e.filterProp,a=e.filterPhr,r=e.sortProp,c=e.sortDir;return(l.a.createElement(w,null,l.a.createElement(C,null,l.a.createElement(F,{onClick:t},l.a.createElement(v,null),"Clear filters")),l.a.createElement(C,null,l.a.createElement(h,null),"Filter: ",!a&&"none",n&&""!==a&&'"'.concat(a,'" in "').concat(j[n],'"')),l.a.createElement(C,null,l.a.createElement(p,null),"Sort: ",!r&&"none",r&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"".concat(k[c]," in ").concat(j[r]))))))};function I(){var e=Object(i.a)(["\n    max-width: 100%;\n    border: 1px solid green;\n    cursor: pointer;\n    align-items: center;\n    background-color: ",";\n    &:hover {\n        background-color: greenyellow;\n    }\n    text-align: center;\n"]);return I=function(){return e},e}function L(){var e=Object(i.a)(["\n    display: flex;\n"]);return L=function(){return e},e}s.a.tr(L());var S=s.a.td(I(),(function(e){return e.active?"greenyellow":""})),D=function(e){var t=e.onSortChange,n=e.sortProperty;e.sortDirection;return(l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(p,null)),l.a.createElement(S,{onClick:function(){return t("name")},active:"name"===n},l.a.createElement("span",null,"Name")),l.a.createElement(S,{onClick:function(){return t("city")},active:"city"===n},l.a.createElement("span",null,"City")),l.a.createElement(S,{onClick:function(){return t("totalIncome")},active:"totalIncome"===n},l.a.createElement("span",null,"Total Income")),l.a.createElement(S,{onClick:function(){return t("averageIncome")},active:"averageIncome"===n},l.a.createElement("span",null,"Average Income")),l.a.createElement(S,{onClick:function(){return t("lastMonthIncome")},active:"lastMonthIncome"===n},l.a.createElement("span",null,"Last month totalIncome")),l.a.createElement(S,{onClick:function(){return t("id")},active:"id"===n},l.a.createElement("span",null,"Id"))))};function M(){var e=Object(i.a)(["\n    max-width: 100%;\n"]);return M=function(){return e},e}function A(){var e=Object(i.a)(["\n    border: solid 1px red;\n    width: 100%;\n    background-color: ",";\n    &:hover {\n        background-color: pink;\n    }\n\n    @media (max-width: 1024px) {\n        font-size: 10px;\n    }\n"]);return A=function(){return e},e}function P(){var e=Object(i.a)(["\n    display: flex;\n"]);return P=function(){return e},e}var z=s.a.div(P()),N=s.a.input(A(),(function(e){return e.active?"pink":""})),B=s.a.td(M()),_=function(e){var t=e.onFilterChange,n=e.filterProperty,a=e.filterPhrase;return(l.a.createElement("tr",null,l.a.createElement(B,null,l.a.createElement(h,null)),l.a.createElement(B,null,l.a.createElement(z,null,l.a.createElement(N,{type:"text",onChange:function(e){return t("name",e.target.value.toLowerCase())},value:"name"!==n?"":a,active:"name"===n&&""!==a,placeholder:"e.g. Hammes"}))),l.a.createElement(B,null,l.a.createElement(N,{type:"text",onChange:function(e){return t("city",e.target.value.toLowerCase())},value:"city"!==n?"":a,active:"city"===n&&""!==a,placeholder:"e.g. East Rose"})),l.a.createElement(B,null,l.a.createElement(N,{type:"text",onChange:function(e){return t("totalIncome",e.target.value.toLowerCase())},value:"totalIncome"!==n?"":a,active:"totalIncome"===n&&""!==a,placeholder:"e.g. 233050"})),l.a.createElement(B,null,l.a.createElement(N,{type:"text",onChange:function(e){return t("averageIncome",e.target.value.toLowerCase())},value:"averageIncome"!==n?"":a,active:"averageIncome"===n&&""!==a,placeholder:"e.g. 4668"})),l.a.createElement(B,null,l.a.createElement(N,{type:"text",onChange:function(e){return t("lastMonthIncome",e.target.value.toLowerCase())},value:"lastMonthIncome"!==n?"":a,active:"lastMonthIncome"===n&&""!==a,placeholder:"e.g. 9964"})),l.a.createElement(B,null,l.a.createElement(N,{type:"text",onChange:function(e){return t("id",e.target.value.toLowerCase())},value:"id"!==n?"":a,active:"id"===n&&""!==a,placeholder:"e.g. 12"}))))};function J(){var e=Object(i.a)(["\n    max-width: 100%;\n    border-bottom: solid gray 1px;\n    text-align: right;\n"]);return J=function(){return e},e}function R(){var e=Object(i.a)(["\n    max-width: 100%;\n    border-bottom: solid gray 1px;\n    text-align: left;\n"]);return R=function(){return e},e}var T=s.a.td(R()),W=s.a.td(J()),Y=function(e){var t=e.company,n=e.index,a=e.offset;return(l.a.createElement("tr",{key:t.id},l.a.createElement(T,null,a+n+1),l.a.createElement(T,null,t.name),l.a.createElement(T,null,t.city),l.a.createElement(W,null,t.totalIncome),l.a.createElement(W,null,t.averageIncome),l.a.createElement(W,null,t.lastMonthIncome),l.a.createElement(W,null,t.id)))},H=function(e){var t=e.companiesData,n=(e.displayNumber,Object(a.useState)(null)),r=Object(o.a)(n,2),c=r[0],i=r[1],u=Object(a.useState)(null),m=Object(o.a)(u,2),s=m[0],E=m[1],f=Object(a.useState)(null),p=Object(o.a)(f,2),h=p[0],v=p[1],y=Object(a.useState)(null),x=Object(o.a)(y,2),b=x[0],w=x[1],C=Object(a.useState)(Object(g.a)(t)),F=Object(o.a)(C,2),j=F[0],k=F[1],I=Object(a.useState)(0),L=Object(o.a)(I,2),S=L[0],M=L[1],A=Object(a.useState)(20),P=Object(o.a)(A,2),z=P[0],N=P[1];Object(a.useEffect)((function(){var e=Object(g.a)(t);b&&(e=e.filter(B)),c&&e.sort(J),N(e.length),k(e.slice(S,S+20))}),[h,b,s,c,S]);var B=function(e){return""===h||e[b].toString().toLowerCase().includes(h)},J=function(e,t){return"ASC"===s?e[c]>t[c]?1:-1:e[c]<t[c]?1:-1};return l.a.createElement(l.a.Fragment,null,l.a.createElement(O,{clear:function(){M(0),w(null),v(null),E(null),i(null)},sortProp:c,sortDir:s,filterProp:b,filterPhr:h}),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement(D,{onSortChange:function(e){c===e?"ASC"===s?E("DESC"):"DESC"===s?(E(null),i(null)):E("ASC"):(E("ASC"),i(e))},sortProperty:c,sortDirection:s}),l.a.createElement(_,{onFilterChange:function(e,t){M(0),w(e),v(t)},filterProperty:b,filterPhrase:h})),l.a.createElement("tbody",null,j.map((function(e,t){return l.a.createElement(Y,{company:e,index:t,offset:S})})))),l.a.createElement(d,{changeOffset:M,offset:S,itemsNumber:z}))};function $(){var e=Object(i.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: 10px;\n\n    @media (max-width: 1024px) {\n        font-size: 10px;\n    }\n"]);return $=function(){return e},e}var q=s.a.div($());var G=function(){var e=Object(a.useState)(!0),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(o.a)(c,2),u=i[0],s=i[1],g=Object(a.useState)([]),E=Object(o.a)(g,2),f=E[0],d=E[1];return Object(a.useEffect)((function(){r(!0),m.a.get("https://recruitment.hal.skygate.io/companies").then((function(e){s(e.data),r(!1)})).catch((function(e){console.log(e)}))}),[]),Object(a.useEffect)((function(){r(!0),m.a.all(u.map((function(e){return m.a.get("https://recruitment.hal.skygate.io/incomes/".concat(e.id))}))).then(m.a.spread((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t,l=a.map((function(e){var t=u.find((function(t){return t.id===e.data.id})),n=0,a=e.data.incomes.map((function(e){var t=new Date(e.date),a=t.getFullYear(),l=t.getMonth();return a===(new Date).getFullYear()&&0===l&&(n+=parseFloat(e.value)),e.value})).reduce((function(e,t){return parseFloat(e)+parseFloat(t)}));return Object.assign(t,{totalIncome:Number(a).toFixed(2),averageIncome:Number(a/e.data.incomes.length).toFixed(2),lastMonthIncome:Number(n).toFixed(2)})}));d(l),r(!1)}))).catch((function(e){console.log(e),r(!1)}))}),[u]),l.a.createElement(q,null,n&&l.a.createElement("h1",null,"loading"),!n&&l.a.createElement(H,{companiesData:f}),l.a.createElement("div",null,l.a.createElement("div",null,"Icons made by"," ",l.a.createElement("a",{href:"https://www.flaticon.com/authors/freepik",title:"Freepik"},"Freepik")," ","from"," ",l.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.97fc37c6.chunk.js.map