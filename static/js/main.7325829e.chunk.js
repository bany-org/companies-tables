(this["webpackJsonpcompanies-tables"]=this["webpackJsonpcompanies-tables"]||[]).push([[0],{14:function(e,t,n){e.exports=n(36)},36:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(13),o=n.n(r),i=n(2),u=n(3),l=n.n(u);var s=function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)([]),u=Object(i.a)(o,2),s=u[0],m=u[1],f=Object(a.useState)([]),d=Object(i.a)(f,2),E=d[0],b=d[1],v=Object(a.useState)(10),p=Object(i.a)(v,2),g=p[0],h=p[1],O=Object(a.useState)(0),C=Object(i.a)(O,2),j=C[0],I=C[1],k=Object(a.useState)("ID"),y=Object(i.a)(k,2),N=y[0],w=y[1],T=Object(a.useState)("DESC"),A=Object(i.a)(T,2),S=A[0],_=A[1];return Object(a.useEffect)((function(){l.a.get("https://recruitment.hal.skygate.io/companies").then((function(e){m(e.data),b(e.data),r(!1)})).catch((function(e){console.log(e)}))}),[]),Object(a.useEffect)((function(){r(!0),l.a.all(s.map((function(e){return l.a.get("https://recruitment.hal.skygate.io/incomes/".concat(e.id))}))).then(l.a.spread((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=[].concat(t),c=a.map((function(e){var t=s.find((function(t){return t.id===e.data.id})),n=e.data.incomes.map((function(e){return e.value})).reduce((function(e,t){return parseFloat(e)+parseFloat(t)}));return Object.assign(t,{suma:n,avrg:n/e.data.incomes.length})}));b(c),r(!1)}))).catch((function(e){}))}),[s]),console.log("pass to table",E),c.a.createElement("div",{className:"App"},c.a.createElement("div",null,"ile na stronie",c.a.createElement("select",{onChange:function(e){return h(parseInt(e.target.value))},value:g},c.a.createElement("option",{value:5},"5"),c.a.createElement("option",{value:10},"10"),c.a.createElement("option",{value:20},"20"))),n&&c.a.createElement("h1",null,"loading"),!n&&c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("td",{onClick:function(){_("ID"!==N||!S),w("ID")}},"Id"),c.a.createElement("td",{onClick:function(){_("NAME"!==N||!S),w("NAME")}},"Name"),c.a.createElement("td",{onClick:function(){_("CITY"!==N||!S),w("CITY")}},"City"),c.a.createElement("td",{onClick:function(){_("TOT_INC"!==N||!S),w("TOT_INC")}},"Total income"),c.a.createElement("td",{onClick:function(){_("AVG_INC"!==N||!S),w("AVG_INC")}},"Average income"))),c.a.createElement("tbody",null,function(e,t){switch(e){case"ID":return t?E.sort((function(e,t){return e.id>t.id?1:-1})).slice(j,j+g):E.sort((function(e,t){return e.id<t.id?1:-1})).slice(j,j+g);case"NAME":return t?E.sort((function(e,t){return e.name>t.name?1:-1})).slice(j,j+g):E.sort((function(e,t){return e.name<t.name?1:-1})).slice(j,j+g);case"CITY":return t?E.sort((function(e,t){return e.city>t.city?1:-1})).slice(j,j+g):E.sort((function(e,t){return e.city<t.city?1:-1})).slice(j,j+g);case"TOT_INC":return t?E.sort((function(e,t){return e.suma<t.suma?1:-1})).slice(j,j+g):E.sort((function(e,t){return e.suma>t.suma?1:-1})).slice(j,j+g);case"AVG_INC":return t?E.sort((function(e,t){return e.avrg<t.avrg?1:-1})).slice(j,j+g):E.sort((function(e,t){return e.avrg>t.avrg?1:-1})).slice(j,j+g);default:return E}}(N,S).map((function(e){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,e.id),c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.city),c.a.createElement("td",null,Number(e.suma).toFixed(2)),c.a.createElement("td",null,Number(e.avrg).toFixed(2)))})))),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){return I(j-g)}},"Offset -",g),c.a.createElement("button",{onClick:function(){return I(j+g)}},"Offset +",g)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(s,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.7325829e.chunk.js.map