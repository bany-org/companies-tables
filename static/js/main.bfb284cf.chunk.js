(this["webpackJsonpcompanies-tables"]=this["webpackJsonpcompanies-tables"]||[]).push([[0],{26:function(e,t,n){e.exports=n(50)},50:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(22),c=n.n(r),o=n(4),i=n(1),u=n(6),m=n.n(u),s=n(2),d=n(10);function g(){var e=Object(i.a)(["\n    background-color: lightslategrey;\n    border-radius: 10px;\n    border: 2px solid gray;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    font-weight: 600;\n    padding: 5px 10px;\n    margin: 5px;\n    box-shadow: 2px 2px #aaaaaa;\n"]);return g=function(){return e},e}function f(){var e=Object(i.a)(["\n    background-color: lightgreen;\n    border-radius: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 0 10px;\n    cursor: pointer;\n    border: 1px solid green;\n    &:hover {\n        background-color: green;\n    }\n    box-shadow: 2px 2px #aaaaaa;\n"]);return f=function(){return e},e}function p(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: space-around;\n    background-color: lightblue;\n    padding: 10px;\n    border-radius: 10px;\n"]);return p=function(){return e},e}var E=s.a.div(p()),h=s.a.button(f()),x=s.a.div(g()),y=function(e){var t=e.changeOffset,n=e.offset,a=e.itemsNumber;return(l.a.createElement(E,null,l.a.createElement(h,{onClick:function(){return t(0)},disabled:0===n},"<< First page"),l.a.createElement(h,{onClick:function(){return t(n-20)},disabled:n-20<0},"< Prev"),l.a.createElement(x,null,l.a.createElement("span",null,"Page:",parseInt(n/20+1.5),"/",Math.ceil(a/20)),l.a.createElement("span",null,"Results: ",a)),l.a.createElement(h,{onClick:function(){return t(n+20)},disabled:n>=a-20},"Next >"),l.a.createElement(h,{onClick:function(){return t(a-20)},disabled:n>=a-20},"Last page >>")))},b=function(){return l.a.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"16px",height:"16px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},space:"preserve"},l.a.createElement("circle",{style:{fill:"#983262"},cx:"256",cy:"256",r:"256"}),l.a.createElement("path",{style:{fill:"#662E57"},d:"M512,256c0-2.372-0.038-4.734-0.102-7.09L373.322,110.333l-14.994,191.994L166.333,110.333L107,147\r l40.532,40.532L107,199.067l41.522,41.522L107,251.133l38.127,38.127L107,303.2l36.119,36.118L107,355.267l34.647,34.647\r L107,407.333l99.954,99.954C222.83,510.368,239.223,512,256,512C397.385,512,512,397.385,512,256z"}),l.a.createElement("rect",{x:"107",y:"370.67",style:{fill:"#FFDC00"},width:"266",height:"36.667"}),l.a.createElement("rect",{x:"170.33",y:"370.67",style:{fill:"#FFC000"},width:"202.67",height:"36.667"}),l.a.createElement("rect",{x:"107",y:"318.6",style:{fill:"#FFDC00"},width:"184",height:"36.667"}),l.a.createElement("rect",{x:"170.33",y:"318.6",style:{fill:"#FFC000"},width:"120.67",height:"36.667"}),l.a.createElement("rect",{x:"107",y:"266.53",style:{fill:"#FFDC00"},width:"155",height:"36.667"}),l.a.createElement("rect",{x:"170.33",y:"266.53",style:{fill:"#FFC000"},width:"91.67",height:"36.667"}),l.a.createElement("g",null,l.a.createElement("rect",{x:"107",y:"214.47",style:{fill:"#FFDC00"},width:"126.67",height:"36.667"}),l.a.createElement("rect",{x:"107",y:"162.4",style:{fill:"#FFDC00"},width:"94.67",height:"36.667"})),l.a.createElement("g",null,l.a.createElement("rect",{x:"170.33",y:"214.47",style:{fill:"#FFC000"},width:"63.33",height:"36.667"}),l.a.createElement("rect",{x:"170.33",y:"162.4",style:{fill:"#FFC000"},width:"31.33",height:"36.667"})),l.a.createElement("rect",{x:"107",y:"110.33",style:{fill:"#FFDC00"},width:"59.33",height:"36.667"}),l.a.createElement("polygon",{style:{fill:"#FFFFFF"},points:"340,110.333 340,291.48 303.522,255.002 279.959,278.565 356.661,355.267 433.363,278.564 \r 409.8,255.002 373.322,291.48 373.322,110.333 "}),l.a.createElement("polygon",{style:{fill:"#E0E0E0"},points:"356.661,355.267 433.363,278.564 409.8,255.002 373.322,291.48 373.322,110.333 \r 356.661,110.333 "}),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null))},v=function(){return l.a.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"16px",height:"16px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},space:"preserve"},l.a.createElement("circle",{style:{fill:"#E9336D"},cx:"256",cy:"256",r:"256"}),l.a.createElement("path",{style:{fill:"#762957"},d:"M512,256c0-13.55-1.062-26.851-3.09-39.832L402.371,109.629c-48.156-48.156-126.233-48.156-174.389,0\r c-40.121,40.121-46.808,101.006-20.077,148.058L102.924,362.668c-9.112,9.112-9.112,23.886,0,32.998L216.168,508.91\r C229.149,510.938,242.45,512,256,512C397.385,512,512,397.385,512,256z"}),l.a.createElement("path",{style:{fill:"#FFA700"},d:"M116.334,409.076l-13.41-13.41c-9.112-9.112-9.112-23.886,0-32.998l110.549-110.549l46.408,46.408\r L149.332,409.076C140.22,418.188,125.446,418.188,116.334,409.076z"}),l.a.createElement("path",{style:{fill:"#FF6900"},d:"M259.882,298.533L149.333,409.082c-9.108,9.108-23.886,9.108-33.001-0.007l-6.703-6.703\r l127.046-127.046L259.882,298.533z"}),l.a.createElement("circle",{style:{fill:"#FFFFFF"},cx:"315.18",cy:"196.82",r:"123.31"}),l.a.createElement("path",{style:{fill:"#FFF4AA"},d:"M402.371,284.016c-40.121,40.121-101.01,46.818-148.054,20.082\r c-9.426-5.353-18.3-12.049-26.333-20.082l174.387-174.387C450.525,157.783,450.525,235.862,402.371,284.016z"}),l.a.createElement("circle",{style:{fill:"#00D4D1"},cx:"315.18",cy:"196.82",r:"91.42"}),l.a.createElement("path",{style:{fill:"#009CA0"},d:"M379.821,261.466c-35.702,35.702-93.586,35.702-129.287,0l129.28-129.28\r C415.516,167.887,415.523,225.764,379.821,261.466z"}),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null))},w=function(){return l.a.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"16px",height:"16px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},space:"preserve"},l.a.createElement("path",{style:{fill:"#FF7043"},d:"M507.586,208.51C485.318,89.819,381.156,0,256,0C114.615,0,0,114.616,0,256\r c0,125.156,89.819,229.318,208.511,251.585L507.586,208.51z"}),l.a.createElement("path",{style:{fill:"#FF5722"},d:"M512,256c0-16.229-1.527-32.099-4.414-47.49l-54.822-54.821L256,256L153.689,452.764l54.822,54.821\r C223.901,510.473,239.771,512,256,512C397.385,512,512,397.384,512,256z"}),l.a.createElement("polygon",{style:{fill:"#37474F"},points:"452.764,153.689 350.442,256 233.739,278.261 256,161.558 358.311,59.236 405.537,106.463 \r "}),l.a.createElement("polygon",{style:{fill:"#263238"},points:"452.764,358.311 358.311,452.764 256,350.442 222.609,256 350.442,256 "}),l.a.createElement("polygon",{style:{fill:"#37474F"},points:"208.779,233.739 161.558,256 59.236,358.311 153.689,452.764 256,350.442 256,256 "}),l.a.createElement("polygon",{style:{fill:"#455A64"},points:"256,161.558 256,256 161.558,256 59.236,153.689 106.463,106.463 153.689,59.236 "}),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null))},F=["name","city","totalIncome","averageIncome","lastMonthIncome","id"],C={name:"Name",city:"City",totalIncome:"Total Income",averageIncome:"Average Income",lastMonthIncome:"Last Month Income",id:"Id"},j={ASC:"Ascending",DESC:"Descending"};function k(){var e=Object(i.a)(["\n    border-radius: 10px;\n    border: solid darkgoldenrod 1px;\n    background-color: orange;\n    display: flex;\n    padding: 5px 8px;\n    font-weight: 600;\n    box-shadow: 2px 2px #aaaaaa;\n"]);return k=function(){return e},e}function O(){var e=Object(i.a)(["\n    display: flex;\n    align-items: center;\n    border-radius: 10px;\n    border: solid darkgoldenrod 1px;\n    background-color: orange;\n    padding: 5px 8px;\n    color: white;\n    cursor: pointer;\n    box-shadow: 2px 2px #aaaaaa;\n    &:hover {\n        transform: scale(1.1);\n    }\n"]);return O=function(){return e},e}function I(){var e=Object(i.a)(["\n    display: flex;\n    align-items: center;\n    margin-left: 10px;\n    word-break: break-all;\n"]);return I=function(){return e},e}function L(){var e=Object(i.a)(["\n    display: flex;\n    align-items: center;\n    width: 30%;\n"]);return L=function(){return e},e}function S(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: space-around;\n    background-color: lightblue;\n    padding: 10px;\n    border-radius: 10px;\n"]);return S=function(){return e},e}var D=s.a.div(S()),M=s.a.div(L()),P=s.a.div(I()),A=s.a.div(O()),z=s.a.div(k()),N=function(e){var t=e.clear,n=e.filterProp,a=e.filterPhr,r=e.sortProp,c=e.sortDir;return(l.a.createElement(D,null,l.a.createElement(M,null,l.a.createElement(A,{onClick:t},l.a.createElement(w,null),l.a.createElement(P,null,"Clear filters"))),l.a.createElement(M,null,l.a.createElement(z,null,l.a.createElement(v,null),l.a.createElement(P,null,!a&&"Filter: none",n&&""!==a&&'Filter: "'.concat(a,'" in "').concat(C[n],'"')))),l.a.createElement(M,null,l.a.createElement(z,null,l.a.createElement(b,null),l.a.createElement(P,null,!r&&"Sort: none",r&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Sort: ".concat(j[c]," in ").concat(C[r]))))))))};function B(){var e=Object(i.a)(["\n    max-width: 100%;\n    border: 1px solid green;\n    cursor: pointer;\n    align-items: center;\n    background-color: ",";\n    &:hover {\n        background-color: greenyellow;\n    }\n    text-align: center;\n    font-weight: 600;\n    box-shadow: 1px 1px #aaaaaa;\n    border-radius: 5px;\n"]);return B=function(){return e},e}var _=s.a.td(B(),(function(e){return e.active?"greenyellow":""})),J=function(e){var t=e.onSortChange,n=e.sortProperty;e.sortDirection;return(l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(b,null)),F.map((function(e){return l.a.createElement(_,{onClick:function(){return t(e)},active:n===e,key:e},l.a.createElement("span",null,C[e]))}))))};function R(){var e=Object(i.a)(["\n    max-width: 100%;\n"]);return R=function(){return e},e}function W(){var e=Object(i.a)(["\n    border: solid 1px red;\n    border-radius: 5px;\n    width: 100%;\n    background-color: ",";\n    &:hover {\n        background-color: pink;\n    }\n    box-shadow: 1px 1px #aa8888;\n\n    @media (max-width: 1024px) {\n        font-size: 10px;\n    }\n"]);return W=function(){return e},e}function Y(){var e=Object(i.a)(["\n    display: flex;\n"]);return Y=function(){return e},e}var H=s.a.div(Y()),T=s.a.input(W(),(function(e){return e.active?"pink":""})),$=s.a.td(R()),q=function(e){var t=e.onFilterChange,n=e.filterProperty,a=e.filterPhrase;return(l.a.createElement("tr",null,l.a.createElement($,null,l.a.createElement(v,null)),l.a.createElement($,null,l.a.createElement(H,null,l.a.createElement(T,{type:"text",onChange:function(e){return t("name",e.target.value.toLowerCase())},value:"name"!==n?"":a,active:"name"===n&&""!==a,placeholder:"e.g. Hammes"}))),l.a.createElement($,null,l.a.createElement(T,{type:"text",onChange:function(e){return t("city",e.target.value.toLowerCase())},value:"city"!==n?"":a,active:"city"===n&&""!==a,placeholder:"e.g. East Rose"})),l.a.createElement($,null,l.a.createElement(T,{type:"text",onChange:function(e){return t("totalIncome",e.target.value.toLowerCase())},value:"totalIncome"!==n?"":a,active:"totalIncome"===n&&""!==a,placeholder:"e.g. 233050"})),l.a.createElement($,null,l.a.createElement(T,{type:"text",onChange:function(e){return t("averageIncome",e.target.value.toLowerCase())},value:"averageIncome"!==n?"":a,active:"averageIncome"===n&&""!==a,placeholder:"e.g. 4668"})),l.a.createElement($,null,l.a.createElement(T,{type:"text",onChange:function(e){return t("lastMonthIncome",e.target.value.toLowerCase())},value:"lastMonthIncome"!==n?"":a,active:"lastMonthIncome"===n&&""!==a,placeholder:"e.g. 9964"})),l.a.createElement($,null,l.a.createElement(T,{type:"text",onChange:function(e){return t("id",e.target.value.toLowerCase())},value:"id"!==n?"":a,active:"id"===n&&""!==a,placeholder:"e.g. 12"}))))};function G(){var e=Object(i.a)(["\n    max-width: 100%;\n    border-bottom: solid gray 1px;\n    text-align: right;\n"]);return G=function(){return e},e}function K(){var e=Object(i.a)(["\n    max-width: 100%;\n    border-bottom: solid gray 1px;\n    text-align: left;\n"]);return K=function(){return e},e}function Q(){var e=Object(i.a)(["\n    max-width: 100%;\n    border-bottom: solid gray 1px;\n    text-align: canter;\n    font-weight: 700;\n"]);return Q=function(){return e},e}var U=s.a.td(Q()),V=s.a.td(K()),X=s.a.td(G()),Z=function(e){var t=e.company,n=e.index,a=e.offset;return(l.a.createElement("tr",{key:t.id},l.a.createElement(U,null,a+n+1),l.a.createElement(V,null,t.name),l.a.createElement(V,null,t.city),l.a.createElement(X,null,Number(t.totalIncome).toFixed(2)),l.a.createElement(X,null,Number(t.averageIncome).toFixed(2)),l.a.createElement(X,null,Number(t.lastMonthIncome).toFixed(2)),l.a.createElement(X,null,t.id)))},ee=function(e){var t=e.companiesData,n=Object(a.useState)(null),r=Object(o.a)(n,2),c=r[0],i=r[1],u=Object(a.useState)(null),m=Object(o.a)(u,2),s=m[0],g=m[1],f=Object(a.useState)(null),p=Object(o.a)(f,2),E=p[0],h=p[1],x=Object(a.useState)(null),b=Object(o.a)(x,2),v=b[0],w=b[1],F=Object(a.useState)(Object(d.a)(t)),C=Object(o.a)(F,2),j=C[0],k=C[1],O=Object(a.useState)(0),I=Object(o.a)(O,2),L=I[0],S=I[1],D=Object(a.useState)(20),M=Object(o.a)(D,2),P=M[0],A=M[1];Object(a.useEffect)((function(){var e=Object(d.a)(t);v&&(e=e.filter(z)),console.log("na tym b\u0119dzie sortowanie",e),c&&e.sort(B),A(e.length),k(e.slice(L,L+20))}),[E,v,s,c,L]);var z=function(e){return""===E||e[v].toString().toLowerCase().includes(E)},B=function(e,t){return"ASC"===s?e[c]>t[c]?1:-1:e[c]<t[c]?1:-1};return l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{clear:function(){S(0),w(null),h(null),g(null),i(null)},sortProp:c,sortDir:s,filterProp:v,filterPhr:E}),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement(J,{onSortChange:function(e){c===e?"ASC"===s?g("DESC"):"DESC"===s?(g(null),i(null)):g("ASC"):(g("ASC"),i(e))},sortProperty:c,sortDirection:s}),l.a.createElement(q,{onFilterChange:function(e,t){S(0),w(e),h(t)},filterProperty:v,filterPhrase:E})),l.a.createElement("tbody",null,j.map((function(e,t){return l.a.createElement(Z,{company:e,index:t,offset:L,key:e.id})})))),l.a.createElement(y,{changeOffset:S,offset:L,itemsNumber:P}))};function te(){var e=Object(i.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: 10px;\n    font-family: sans-serif;\n\n    @media (max-width: 1024px) {\n        font-size: 10px;\n    }\n"]);return te=function(){return e},e}var ne=s.a.div(te());var ae=function(){var e=Object(a.useState)(!0),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(o.a)(c,2),u=i[0],s=i[1],d=Object(a.useState)([]),g=Object(o.a)(d,2),f=g[0],p=g[1];return Object(a.useEffect)((function(){r(!0),m.a.get("https://recruitment.hal.skygate.io/companies").then((function(e){s(e.data),r(!1)})).catch((function(e){console.log(e)}))}),[]),Object(a.useEffect)((function(){r(!0),m.a.all(u.map((function(e){return m.a.get("https://recruitment.hal.skygate.io/incomes/".concat(e.id))}))).then(m.a.spread((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t,l=a.map((function(e){var t=u.find((function(t){return t.id===e.data.id})),n=0,a=e.data.incomes.map((function(e){var t=new Date(e.date),a=t.getFullYear(),l=t.getMonth();return a===(new Date).getFullYear()&&0===l&&(n+=parseFloat(e.value)),parseFloat(e.value)})).reduce((function(e,t){return e+t}));return console.log("suma",Number(a.toFixed(2))),Object.assign(t,{totalIncome:Number(a.toFixed(2)),averageIncome:Number((a/e.data.incomes.length).toFixed(2)),lastMonthIncome:Number(n.toFixed(2))})}));p(l),r(!1)}))).catch((function(e){console.log(e),r(!1)}))}),[u]),l.a.createElement(ne,null,n&&l.a.createElement("h1",null,"loading"),!n&&l.a.createElement(ee,{companiesData:f}),l.a.createElement("div",null,l.a.createElement("div",null,"Icons made by"," ",l.a.createElement("a",{href:"https://www.flaticon.com/authors/freepik",title:"Freepik"},"Freepik")," ","from"," ",l.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.bfb284cf.chunk.js.map